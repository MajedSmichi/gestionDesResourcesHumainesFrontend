<main class="content d-flex justify-content-center align-items-center" style="height: 100vh;">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-12 col-lg-8">
        <div class="card">
          <div class="card-header">
            <h5 class="card-title mb-0">Add New User</h5>
          </div>
          <div class="card-body">
            <form #form="ngForm" (ngSubmit)="onSubmit(form)">
              <div class="row">
                <div class="col-12 col-md-6 mb-3">
                  <label for="nom" class="form-label">Nom</label>
                  <input type="text" class="form-control" id="nom" name="nom" ngModel placeholder="Nom" required>
                  <div *ngIf="form.submitted && form.controls['nom']?.errors?.['required']" class="text-danger">Nom is required</div>
                  <div *ngIf="errors.nom" class="text-danger">{{ errors.nom }}</div>
                </div>
                <div class="col-12 col-md-6 mb-3">
                  <label for="prenom" class="form-label">Prenom</label>
                  <input type="text" class="form-control" id="prenom" name="prenom" ngModel placeholder="Prenom" required>
                  <div *ngIf="form.submitted && form.controls['prenom']?.errors?.['required']" class="text-danger">Prenom is required</div>
                  <div *ngIf="errors.prenom" class="text-danger">{{ errors.prenom }}</div>
                </div>
              </div>
              <div class="row">
                <div class="col-12 col-md-6 mb-3">
                  <label for="email" class="form-label">Email</label>
                  <input type="email" class="form-control" id="email" name="email" ngModel placeholder="Email" required>
                  <div *ngIf="form.submitted && form.controls['email']?.errors?.['required']" class="text-danger">Email is required</div>
                  <div *ngIf="errors.email" class="text-danger">{{ errors.email }}</div>
                </div>
                <div class="col-12 col-md-6 mb-3">
                  <label for="telephone" class="form-label">Telephone</label>
                  <input type="tel" class="form-control" id="telephone" name="telephone" ngModel placeholder="Telephone" required>
                  <div *ngIf="form.submitted && form.controls['telephone']?.errors?.['required']" class="text-danger">Telephone is required</div>
                  <div *ngIf="errors.telephone" class="text-danger">{{ errors.telephone }}</div>
                </div>
              </div>
              <div class="row">
                <div class="col-12 col-md-6 mb-3">
                  <label for="soldeConges" class="form-label">Solde Conges</label>
                  <input type="number" class="form-control" id="soldeConges" name="soldeConges" ngModel placeholder="Solde Conges" required>
                  <div *ngIf="form.submitted && form.controls['soldeConges']?.errors?.['required']" class="text-danger">Solde Conges is required</div>
                  <div *ngIf="errors.soldeConges" class="text-danger">{{ errors.soldeConges }}</div>
                </div>
                <div class="col-12 col-md-6 mb-3">
                  <label for="poste" class="form-label">Poste</label>
                  <select class="form-control" id="poste" name="poste" ngModel (change)="onPosteChange($event)" required>
                    <option *ngFor="let poste of postes" [value]="poste">{{ poste }}</option>
                  </select>
                  <div *ngIf="form.submitted && form.controls['poste']?.errors?.['required']" class="text-danger">Poste is required</div>
                  <div *ngIf="errors.poste" class="text-danger">{{ errors.poste }}</div>
                </div>
              </div>
              <div class="row">
                <div class="col-12 col-md-6 mb-3">
                  <label for="role" class="form-label">Roles</label>
                  <select class="form-control" id="role" name="role" ngModel (change)="onRoleChange($event)" required>
                    <option *ngFor="let role of roles" [value]="role">{{ role }}</option>
                  </select>
                  <div *ngIf="form.submitted && form.controls['role']?.errors?.['required']" class="text-danger">Role is required</div>
                  <div *ngIf="errors.roles" class="text-danger">{{ errors.roles }}</div>
                </div>
                <div class="col-12 col-md-6 mb-3">
                  <label for="fonction" class="form-label">Fonction</label>
                  <select class="form-control" id="fonction" name="fonction" ngModel (change)="onFonctionChange($event)" required>
                    <option *ngFor="let fonction of fonctions" [value]="fonction">{{ fonction }}</option>
                  </select>
                  <div *ngIf="form.submitted && form.controls['fonction']?.errors?.['required']" class="text-danger">Fonction is required</div>
                  <div *ngIf="errors.fonction" class="text-danger">{{ errors.fonction }}</div>
                </div>
              </div>
              <div class="row">
                <div class="col-12 col-md-6 mb-3">
                  <label for="motDePasse" class="form-label">Mot de Passe</label>
                  <input type="password" class="form-control" id="motDePasse" name="motDePasse" ngModel placeholder="Mot de Passe" required>
                  <div *ngIf="form.submitted && form.controls['motDePasse']?.errors?.['required']" class="text-danger">Mot de Passe is required</div>
                  <div *ngIf="errors.motDePasse" class="text-danger">{{ errors.motDePasse }}</div>
                </div>
                <div class="col-12 col-md-6 mb-3">
                  <label class="form-label">Upload File</label>
                  <input type="file" class="form-control" (change)="onFileChange($event)" />
                  <div *ngIf="errors.photo" class="text-danger">{{ errors.photo }}</div>
                </div>
              </div>
              <div class="row mb-3" *ngIf="selectedFile">
                <div class="col-12">
                  <div class="progress">
                    <div class="progress-bar" role="progressbar" [style.width.%]="progress" aria-valuenow="progress" aria-valuemin="0" aria-valuemax="100"></div>
                  </div>
                </div>
              </div>
              <button type="submit" class="btn btn-primary w-100">Submit</button>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</main>
